<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../style/player.css" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <title>캐릭캐릭뮤직체인지</title>
  </head>
  <body>
    <!--ASMR music list-->
    <audio
      id="school"
      autoplay
      loop
      src="../assets/school.mp3"
      type="audio/mpeg"
    ></audio>
    <audio
      id="rain"
      autoplay
      loop
      src="../assets/rain.mp3"
      type="audio/mpeg"
    ></audio>
    <audio
      id="wave"
      autoplay
      loop
      src="../assets/wave.mp3"
      type="audio/mpeg"
    ></audio>

    <!--inside of player room-->
    <div class="player-room">
      <div class="sample-text">플레이어 도트 그래픽 영역</div>

      <!--ASMR sound btn-->
      <img src="../assets/window1.png" id="window" width="25%" height="25%" />
      <!--audio effect popup btn-->
      <a href="javascript:openPop()">
        <div>
          <img
            src="../assets/audio_effect_btn.png"
            id="window"
            width="25%"
            height="25%"
          />
        </div>
      </a>

      <!--layer popup area-->
      <div class="popup_layer" id="popup_layer" style="display: none">
        <div class="popup_box">
          <div style="height: 10px; width: 375px; float: top">
            <a href="javascript:closePop();"
              ><img
                src="../assets/x.jpg"
                class="m_header-banner-close"
                width="30px"
                height="30px"
            /></a>
          </div>
          <!--layer popup content area-->
          <div class="popup_cont">
            <h5>EFFECT CONTROL</h5>
            <div class="control_panel_layer">
              <div class="control_div">
                <label class="panel_label">VOLUME</label>
                <input
                  class="panel_bar"
                  type="range"
                  id="volume_slider"
                  min="0"
                  max="100"
                  value="100"
                  onclick="volume_control(event)"
                />
              </div>
              <div class="control_div">
                <label class="panel_label">BPM</label>
                <input
                  class="panel_bar"
                  type="range"
                  id="bpm_slider"
                  min="0"
                  max="100"
                  value="100"
                  onclick="bpm_control(event)"
                />
              </div>
              <div class="control_div">
                <label class="panel_label">REVERB</label>
                <input
                  class="panel_bar"
                  type="range"
                  id="reverb_slider"
                  min="0"
                  max="100"
                  value="100"
                />
              </div>
            </div>
          </div>
        </div>
      </div>
      <script src="http://code.jquery.com/jquery-3.5.1.min.js"></script>
      <script type="text/javascript">
        /*창문 click 시 창문 그래픽 및 ASMR 음원 변경*/
        $(function () {
          let num = 0;
          let imageName = ["1", "2", "3", "4"];
          var audio1 = document.getElementById("school");
          var audio2 = document.getElementById("rain");
          var audio3 = document.getElementById("wave");
          $("#window").click(function () {
            if (num == 0) {
              audio3.pause();
              audio2.pause();
              audio1.play();
              num++;
            } else if (num == 1) {
              audio1.pause();
              audio3.pause();
              audio2.play();
              num++;
            } else if (num == 2) {
              audio1.pause();
              audio2.pause();
              audio3.play();
              num++;
            } else {
              audio1.pause();
              audio2.pause();
              audio3.pause();
              num = 0;
            }

            $(this).attr("src", "../assets/window" + imageName[num] + ".PNG");
            audio.puase();
            audio.play();
          });
        });

        /*audio effect control popup open*/
        function openPop() {
          document.getElementById("popup_layer").style.display = "block";
        }
        /*audio effect control popup close*/
        function closePop() {
          document.getElementById("popup_layer").style.display = "none";
        }
      </script>

    <!--style transfer output music 재생바-->
    <div class="mp3-player">
      <canvas></canvas>
      <div class="song">
        <div class="artist">Sample Song</div>
        <div class="name">Odd Look ft. The Weeknd</div>
      </div>
      <div class="playarea">
        <div class="prevSong"></div>
        <div class="play"></div>
        <div class="pause"></div>
        <div class="nextSong"></div>
      </div>
      <div class="soundControl"></div>
      <div class="time">00:00</div>
      <audio autoplay controls>
        
      </audio>
      <script type="text/javascript">
        var bgm = new Audio('');
        if(!bgm.canPlayType('audio/ogg')) alert('브라우저가 ogg 재생을 지원하지 않습니다.');
        else {
          var bgm_url = 'http://upload.wikimedia.org/wikipedia/commons/d/d7/Wikinews_Remix_Jingle.ogg';
          bgm = new Audio(bgm_url);
          bgm.volume = 0.4;
          bgm.play();
        }
      </script>
    </div>

      <img class="sample-room" src="../assets/sample room.png" width="600" height="500">
    </div>
    <div id="root"></div>
  </body>
</html>
