<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <title>캐릭캐릭뮤직체인지</title>
  </head>
  <body>
    <audio
      id="test"
      autoplay
      loop
      src="../assets/test.mp3"
      type="audio/mpeg"
    ></audio>

    <!--inside of player room-->

    <div class="control_panel_layer">
      <div>
        <h3>Effect Control</h3>
      </div>
      <div id="panel">
        <div>
          <label class="panel_label">ON/OFF</label>
          <input type="checkbox" id="MuteCheck" onclick="audio_onoff(event)" />
        </div>
        <div class="control_div">
          <label class="panel_label">VOLUME</label>
          <input
            class="panel_bar"
            type="range"
            id="volume_slider"
            min="0"
            max="100"
            value="100"
            onclick="volume_control(event)"
          />
        </div>
        <div class="control_div">
          <label class="panel_label">BPM</label>
          <input
            class="panel_bar"
            type="range"
            id="bpm_slider"
            min="0"
            max="100"
            value="100"
            onclick="bpm_control(event)"
          />
        </div>
        <div class="control_div">
          <label class="panel_label">REVERB</label>
          <input
            class="panel_bar"
            type="range"
            id="reverb_slider"
            min="0"
            max="100"
            value="100"
          />
        </div>

        <script>
          function audio_onoff(event) {
            var test_audio = document.getElementById("test");
            if (event.target.checked) test_audio.play();
            else test_audio.pause();
          }

          function volume_control(event) {
            var test_audio = document.getElementById("test");
            var audio_volume = document.getElementById("volume_slider");

            audio_volume.addEventListener("change", function (e) {
              test_audio.volume = this.value / 100;
            });
          }

          function bpm_control(event) {
            var test_audio = document.getElementById("test");
            var audio_volume = document.getElementById("bpm_slider");

            audio_volume.addEventListener("change", function (e) {
              test_audio.playbackRate = this.value / 100;
            });
          }
        </script>
      </div>
    </div>

    <!--audio effect control panel-->

    <div id="root"></div>
  </body>
</html>
